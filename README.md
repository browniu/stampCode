# stampCode
> ä¸€ä¸ªè§¦æ‘¸å°ç« æŠ€æœ¯çš„å®ç°æ–¹æ¡ˆ

## [Demo](https://browniu.github.io/stampCode/)

ç›®å‰å»ºè®®åœ¨Pc Chromeæµ‹è¯•ï¼Œäº‹ä»¶ç›‘å¬çš„æ˜¯`mouse`ç±»

[![demo](./static/stampCode.gif)](https://browniu.github.io/stampCode/) 

## ç®€è¿°

### éœ€æ±‚åˆ†æ
è®¸å¤šå¼€å‘è€…å¤§ä¼š/æ¼«å±•/æ¸¸æˆå±•ï¼Œéƒ½ä¼šæœ‰é›†å°ç« çš„çº¿ä¸‹æ¨å¹¿æ´»åŠ¨ã€‚å°±æ˜¯åœ¨å…¥å£å¤„ç»™ä½ å‘å¼ DMå•ï¼Œä¸Šé¢ä¼šæœ‰ä¸€äº›ç©ºæ ¼ä½ç½®ï¼Œéœ€è¦ä½ åˆ°æŒ‡å®šçš„å±•æ‘Šé›†å°ã€‚åˆ°æ‘Šä½å‰å®Œ
æˆä¸€äº›ç®€å•ä»»åŠ¡ï¼ˆåŠ ä¸ªå¾®ä¿¡æˆ–å…³æ³¨ä¸ªå…¬ä¼—å·ä»€ä¹ˆçš„ï¼‰å°±ä¼šæœ‰å°å§å§ç»™ä½ æ‹¿é’¢å°ç›–ä¸ªç« æˆ–è€…ç­¾ä¸ªåï¼Œé›†æ»¡æˆ–è¾¾åˆ°ä¸€å®šæ•°é‡å°±å¯ä»¥å…‘æ¢ç¤¼å“ã€‚

### è½åçš„ä¼ ç»Ÿæ–¹æ¡ˆ

åœ¨æˆ‘çœ‹æ¥è¿™ç§ä¼ ç»Ÿçš„å°ç« ç­¾åˆ°æ–¹å¼æœ¬èº«å­˜åœ¨å¾ˆå¤šé—®é¢˜ã€‚

* åˆ¶ä½œæˆæœ¬é«˜ã€‚é¦–å…ˆéœ€è¦å°åˆ·çº¸è´¨çš„DMä¼ å•æ¥æ¥å—ç›–å°ï¼Œåˆè¦ç»™æ¯ä¸ªæ‘Šä½åˆ¶ä½œä¸“ç”¨ç« ï¼Œè¿˜è¦æœ‰ä¸€ä¸ªå·¥ä½œäººå‘˜å€¼ç­è´Ÿè´£è¿™ä»¶äº‹ï¼ˆæ— æ³•ç¦»å¼€æ‘Šä½ï¼‰
* æ•ˆç‡å¾ˆä½ï¼Œç›–å°è¦å¾ˆç”¨åŠ›çš„å‹åœ¨ä¸€ä¸ªå¹³æ•´çš„æ¡Œé¢ä¸Šï¼Œç›–å°ç›–å¤šäº†è¦æ²¾å°æ³¥ï¼Œè¿™ä¸€ç³»åˆ—åŠ¨ä½œè€—æ—¶è€—åŠ›ï¼Œåœ¨ç«çˆ†çš„æƒ…å†µä¸‹ï¼Œå¾ˆå®¹æ˜“å¤§æ’é•¿é¾™ï¼Œé€ æˆç”¨æˆ·æµå¤±
* ç”¨æˆ·ä½“éªŒä¸ä½³ã€‚ä½œä¸ºåƒç“œç¾¤ä¼—çš„æˆ‘è¦éšèº«æºå¸¦è¿™å¼ çº¸ã€‚è¿˜è¦ä¸åœæå‡ºæ¥æŠ˜å›å»ï¼Œä¿å­˜éº»çƒ¦è¿˜å¾ˆå®¹æ˜“å¼„ä¸¢ã€‚è€Œä¸”åˆšç›–å®Œä¸Šé¢æ²¡å¹²çš„å¢¨æ°´è¿˜ä¼šå¼„è„æˆ‘æ–°ä¹°çš„è¡£æœ

### ç›¸å…³çš„å‰ç«¯æŠ€æœ¯

èº«ä¸ºä¸€ä¸ªå‰ç«¯å·¥ç¨‹å¸ˆï¼Œæˆ‘å°±æƒ³èƒ½å¦é€šè¿‡å‰ç«¯é¢†åŸŸçš„æŠ€æœ¯å»ä¼˜åŒ–è¿™ä¸ªæµç¨‹ã€‚æ²¡æœ‰ä»€ä¹ˆéœ€æ±‚æ˜¯ä¸€ä¸ªH5ä¸èƒ½è§£å†³çš„ï¼Œå¦‚æœæœ‰é‚£å°±ä¸Šä¸¤ä¸ªã€‚

è¿™ä¸ªéœ€æ±‚ç‚¹åˆ†æé€å½»å°±æ˜¯ä¸€ä¸ª **çº¿ä¸‹ç­¾åˆ°** é—®é¢˜ã€‚è¿™ä¸æ˜¯ä¸€ä¸ªæ–°é—®é¢˜ï¼Œæœ‰å¾ˆå¤šçš„ç°æˆçš„æŠ€æœ¯æ–¹æ¡ˆéƒ½åœ¨è§£å†³ã€‚ä½¿ç”¨æœ€å¤šçš„è§£å†³æ–¹æ¡ˆåº”è¯¥å°±æ˜¯æ‰«ç äº†å§ã€‚å·¥ä½œäºº
å‘˜æ‰«ä½ çš„èº«ä»½è¯†åˆ«äºŒç»´ç å°±æå®šäº†ï¼Œç®€å•è½»æ¾ã€‚æ—¢å¯ä»¥æœç»è™šå‡ç­¾åˆ°ï¼Œç”¨æˆ·éœ€è¦åšçš„äº‹ä¹Ÿä¸å¤šã€‚ä½†ä¼¼ä¹å°‘äº†ç‚¹ä»€ä¹ˆï¼Ÿé‚£å°±æ˜¯ä»ªå¼æ„Ÿã€‚é‡‡é›†æ˜¯äººç±»çš„åŸå§‹çˆ±å¥½ï¼ŒåŸ
å°ç« æ–¹å¼è™½ç„¶éº»çƒ¦ä½†æ˜¯å¾ˆæœ‰ä»ªå¼æ„Ÿï¼Œæ”¶é›†å®Œä¹Ÿå¾ˆæœ‰æˆå°±æ„Ÿã€‚æ‰«ç æ˜¯ç®€å•ï¼Œç®€å•åˆ°æ²¡ä»€ä¹ˆå‚ä¸æ„Ÿå°±ç»“æŸäº†è¿™ä¸ªæµç¨‹ã€‚

èƒ½ä¸èƒ½æ›´å¥½ç©ä¸€ç‚¹ï¼Ÿæƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘æ‹¿ä¸ªå°ç« åœ¨ä½ çš„æ‰‹æœºä¸Šç›–äº†ä¸€ä¸‹ï¼Œå°±åƒåœ¨çº¸ä¸Šé‚£ä¹ˆåšä¸€æ ·ï¼ŒH5ä¸Šæµ®ç°å‡ºäº†ä¸€ä¸ªåŠ¨æ€çš„ç›–å°ï¼Œç”šè‡³è·³å‡ºä¸€ä¸ªå½©è›‹ï¼Œæˆ‘è§‰å¾—è¿™ç§ä½“
éªŒæ—¢æ»¡è¶³æ”¶é›†çš„ä»ªå¼æ„Ÿï¼Œåˆçœç•¥é‚£ä¸€è¿ä¸²çš„éº»çƒ¦ï¼ŒH5ä¸Šæ›´å¤šçš„äº’åŠ¨æ–¹å¼è®©ç”¨æˆ·çš„å‚ä¸åº¦ä¹Ÿä¼šæ›´é«˜ã€‚

### é€»è¾‘åˆ†æ

è¿™ä¸ªç›–å°è¯†åˆ«çš„æŠ€æœ¯ç±»ä¼¼äºå±ä¸‹æŒ‡çº¹è¯†åˆ«ï¼Œä½†æ˜¯åˆä¸éœ€è¦é‚£ä¹ˆé«˜çš„ç²¾åº¦ã€‚æ‰€ä»¥å®Œå…¨å¯ä»¥é€šè¿‡å¤šç‚¹è§¦æ§çš„æ–¹å¼å®ç°ã€‚

#### æ¨¡æ‹Ÿå¤šç‚¹è§¦æ§
è§¦æ‘¸å°ç« å¤§æ¦‚å°±æ˜¯æœ‰ä¸€äº›åœ†ç‚¹å‡¸èµ·çš„æ–¹å—ï¼Œæ¯ä¸ªå‡¸èµ·çš„åœ°æ–¹ä½¿ç”¨å¯¼ç”µæ©¡èƒ¶ææ–™åˆ¶ä½œï¼ˆç±»ä¼¼ç”µå®¹ç¬”ï¼‰ï¼Œè¿™æ ·å¹³æ•´æ”¾ç½®åœ¨å±å¹•ä¸Šæ—¶å°±èƒ½åœ¨å±å¹•ä¸Šå½¢æˆå¤šä¸ªè§¦æ§ç‚¹ï¼Œæ¨¡æ‹Ÿ
æ‰‹æŒ‡å¤šç‚¹è§¦æ§çš„äº¤äº’æ–¹å¼ã€‚

#### è·å–ç‚¹ä½ä¿¡æ¯

é€šè¿‡BOMå¯¹è±¡çš„`touch`äº‹ä»¶å°±èƒ½å¤ŸåŒæ—¶è·å–åˆ°å±å¹•ä¸Šçš„å¤šä¸ªè§¦æ§ç‚¹çš„åæ ‡ä¿¡æ¯ï¼Œæ‹¿åˆ°ä¸€ä¸ªå¦‚ `[[x1,y1],[x2,y2],[x3,y3]]` è¿™æ ·çš„äºŒç»´æ•°ç»„ï¼Œæ‹¿è¿™ä¸ªåˆš
é‡‡é›†åˆ°çš„æ•°æ®æ›´æ•°æ®åº“ä¿å­˜çš„ä¸€ä¸ªå›ºå®šçš„åŒæ ¼å¼æ•°æ®è¿›è¡Œæ¯”å¯¹ï¼Œå¾—å‡ºä»–ä»¬çš„ç›¸ä¼¼ç¨‹åº¦ã€‚é—®é¢˜å°±å˜æˆäº†æ±‚ä¸¤ä¸ªäºŒç»´æ•°ç»„ç›¸ä¼¼åº¦äº†ã€‚

#### é‡‡é›†æ—¶çš„ä¸ç¡®å®šæ€§
åœ¨é‡‡é›†æ–°çš„ç‚¹ä½ä¿¡æ¯æ—¶ï¼ˆç»™ç”¨æˆ·ç›–å°ï¼‰ï¼Œä¼šå­˜åœ¨ä»¥ä¸‹å‡ ä¸ªä¸ç¡®å®šæ€§

* é¦–å…ˆå› ä¸ºå®åœ¨æ‰‹æœºå±å¹•ä¸Šè¿›è¡Œé‡‡ç‚¹ï¼Œè€Œä¸åŒå‹å·çš„æ‰‹æœºå±å¹•å°ºå¯¸/åˆ†è¾¨ç‡å­˜åœ¨è¾ƒå¤§å·®å¼‚ï¼Œæ‹¿åˆ°çš„åæ ‡æ•°å€¼è‚¯å®šä¸åŒï¼Œè€Œä¸”ç‚¹ä¸ç‚¹ä¹‹é—´çš„ç»å¯¹è·ç¦»ä¹Ÿä¼šä¸åŒ
* æƒ³è±¡ä¸€ä¸‹ç›–ç« çš„è¿‡ç¨‹ï¼Œç”¨æˆ·ä¸¾èµ·æ‰‹æœºç»™æ‘Šä¸»ç›–å°ï¼Œç”¨æˆ·é€’è¿‡æ¥çš„æ‰‹æœºæ–¹å‘è‚¯å®šä¹Ÿä¸ªä¸ä¸€æ ·ï¼Œå½“ç„¶ä½ å¯ä»¥å¼ºè¡Œæ­£è¿‡æ¥ï¼Œè€Œä¸”æŠŠå°ç« ä¹Ÿåšæˆå®¹æ˜“è¾¨åˆ«æ–¹å‘çš„ï¼Œä½†æ˜¯
è¿™æ ·å°±å¤ªæ­»æ¿äº†ï¼Œä¸å¥½ç©

åŸºäºä»¥ä¸Šå‡ ç‚¹ï¼Œæˆ‘ä»¬è®¡ç®—ç›¸ä¼¼æ€§çš„ç®—æ³•å°±è¦å¿½ç•¥å‡ ä¸ªç‚¹ï¼Œä¸€ä¸ªæ˜¯ç‚¹ä½æ•´ä½“çš„æ–¹å‘å’Œç»å¯¹å°ºå¯¸

#### ç›¸ä¼¼å¤šè¾¹å½¢

> å¦‚æœä¸¤ä¸ªè¾¹æ•°ç›¸åŒçš„å¤šè¾¹å½¢çš„å¯¹åº”è§’ç›¸ç­‰ï¼Œå¯¹åº”è¾¹æˆæ¯”ä¾‹ï¼Œè¿™ä¸¤ä¸ªæˆ–å¤šä¸ªå¤šè¾¹å½¢å«åšç›¸ä¼¼å¤šè¾¹å½¢

æˆ‘ä»¬é‡‡é›†åˆ°çš„ç‚¹ä½è™½ç„¶ä¸ä¸€å®šèƒ½å¤Ÿå½¢æˆå‡¸å¤šè¾¹å½¢ï¼Œä½†æ˜¯å¯ä»¥å‚è€ƒè¿™ä¸ªæ€è·¯ï¼Œå¯¹æ¯”è¾¹çš„æ¯”ä¾‹ã€‚è·ç¦»å¯ä»¥ä¸å›ºå®šï¼Œå°±æ˜¯å„ç‚¹é—´è·ç¦»ï¼ˆå³å¤šè¾¹å½¢çš„è¾¹ï¼‰çš„æ¯”ä¾‹æ˜¯å›ºå®šçš„ã€‚

#### å®ä¾‹åˆ†æ

å…ˆå‡è®¾ç®€å•çš„ä¸‰ç‚¹ä½æƒ…å½¢ï¼Œé€šè¿‡`touch`æ—¶é—´é‡‡é›†ä¸‰ä¸ªè§¦æ‘¸ç‚¹å½¢æˆçš„ä¸‰è§’å½¢è¾¹é•¿ä¸º P1ã€P2ã€P3ã€‚é€šè¿‡è®¡ç®—ä¸¤ç‚¹é—´çš„è·ç¦»è·å–åˆ°å¤šè¾¹å½¢çš„ä¸‰ä¸ªè¾¹é•¿D1ã€D2ã€D3

```JavaScript
// ä¸¤ç‚¹é—´è·ç¦»
const distance = (x0, y0, x1, y1) => Math.hypot(x1 - x0, y1 - y0);
```

å¦‚æœå®Œå…¨æŒ‰ç…§ç›¸ä¼¼å¤šè¾¹å½¢å®šç†å»è¯æ˜ï¼Œé™¤äº†è¦æ¯”è¾ƒå„ä¸ªå¯¹åº”è¾¹çš„æ¯”ä¾‹ï¼Œè¿˜è¦è®¡ç®—å‡ºä¸¤æ¡è¾¹ä¹‹é—´çš„å¤¹è§’ï¼Œè¿™å¤ªéº»çƒ¦äº†ã€‚æˆ‘æƒ³æ¢ä¸€ä¸ªæ€è·¯ï¼Œå…ˆæ‰¾åˆ°æœ€å°è¾¹ï¼Œç„¶åæ±‚å‡º
å…¶ä»–è¾¹ä¸æœ€å°è¾¹çš„æ¯”ä¾‹ï¼Œç„¶åå‡åºé‡æ’ä¸€ä¸‹ã€‚ï¼ˆæˆ‘ä¸çŸ¥é“è¿™ç¬¦åˆä»€ä¹ˆé¬¼å®šç†ï¼‰

```JavaScript
// æ•°ç»„ä¸­çš„æœ€å°å€¼
const minInArray = (array) => array.sort((a, b) => a - b)[0];
```

```JavaScript
// å‡è®¾D1æœ€å° æ±‚å…¶ä½™è¾¹ä¸æœ€å°è¾¹çš„æ¯”ä¾‹
const R1 = D2/D1
const R2 = D3/D1
const resultFromTouch = [R1,R2].sort()
```

åˆ°æ­¤ä¸ºæ­¢ç”±ä¸‰ä¸ªç‚¹ä½æœ€ç»ˆè·å–åˆ°ä¸€ä¸ªæ•°ç»„ `resultFromTouch=[R1,R2]`ï¼ŒåŒæ ·çš„æˆ‘ä»¬å¯ä»¥ä»å›ºå®šçš„å°ç« ç‚¹ä½ä¿¡æ¯ä¸­ä¹Ÿè·å–åˆ°ç›¸åŒç»“æ„çš„`resultFromStamp=[Ra,Rb]`

ç†æƒ³æƒ…å†µä¸‹ï¼Œåœ¨ç”¨æˆ·æ‰‹æœºä¸Šé‡‡é›†ç‚¹ä½æ—¶éƒ½åˆšå¥½æ‹¿åˆ°çš„æ˜¯è§¦æ‘¸ç‚¹æœ€ä¸­å¿ƒç‚¹åƒç´ çš„åæ ‡ä¿¡æ¯ï¼Œé‚£ä¹ˆ`resultFromTouch`ä¸`resultFromStamp`å¯¹åº”ä½ç½®çš„å€¼åº”è¯¥
èƒ½å…¨ç­‰ã€‚ç„¶è€Œå®ç‰©å°ç« çš„ç‚¹ä½å¹¶ä¸æ˜¯ä¸€åƒç´ çš„é’ˆç‚¹ï¼Œè€Œæ˜¯ä¸€ä¸ªé¢ï¼Œå¹¶ä¸”è¿™ä¸ªé¢ä¸èƒ½è¿‡å°ã€‚æ‰€ä»¥è¦è®¾ç½®å®¹å·®ï¼Œè¿™ä¸ªå®¹å·®æ ¹å®ç‰©å°ç« çš„ç‚¹å°ºå¯¸æœ‰å…³ï¼Œä½†æ˜¯ä¹Ÿä¸æ˜¯ç»å¯¹
çº¿æ€§ç›¸å…³ã€‚

#### ä½™å¼¦ç›¸ä¼¼æ€§

é‚£ç°åœ¨å°±å˜æˆäº†æ¯”è¾ƒä¸¤ä¸ªä¸€ç»´æ•°ç»„ï¼ˆå‘é‡ï¼‰çš„ç›¸ä¼¼æ€§çš„é—®é¢˜ã€‚ä¸ºä»€ä¹ˆè¦æ¯”è¾ƒç›¸ä¼¼æ€§ã€‚å› ä¸ºæˆ‘æƒ³è¦æœ€ç»ˆçš„ç»“æœæ˜¯`0-100`çš„åˆ†æ•°ï¼Œ`0`è¡¨ç¤ºå®Œå…¨ä¸åŒï¼Œ`100`è¡¨ç¤º
å®Œå…¨ç›¸åŒã€‚è¿™æ ·æˆ‘å°±å¯ä»¥é€šè¿‡åˆ†æ•°åŒºé—´æ¥è®¾ç½®å®¹å·®ï¼Œè¶…è¿‡90åˆ†å°±åˆ¤å®šé€šè¿‡éªŒè¯ã€‚

> ä½™å¼¦ç›¸ä¼¼åº¦æ˜¯ç”¨å‘é‡ç©ºé—´ä¸­ä¸¤ä¸ªå‘é‡å¤¹è§’çš„ä½™å¼¦å€¼ä½œä¸ºè¡¡é‡ä¸¤ä¸ªä¸ªä½“é—´å·®å¼‚çš„å¤§å°ã€‚ä½™å¼¦å€¼è¶Šæ¥è¿‘1ï¼Œå°±è¡¨æ˜å¤¹è§’è¶Šæ¥è¿‘0åº¦ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªå‘é‡è¶Šç›¸ä¼¼ã€‚

è¿™é‡Œå¼•å…¥ä½™å¼¦åƒç´ çš„çš„å…¬å¼åŠå…¶`JavaScript`çš„å®ç°
![ä½™å¼¦ç›¸ä¼¼åº¦å…¬å¼](./static/yxxsd.png)

```JavaScript
async function compute(x, y) {
    x = tf.tensor1d(x);
    y = tf.tensor1d(y);
    const p1 = tf.sqrt(x.mul(x).sum());
    const p2 = tf.sqrt(y.mul(y).sum());
    let p12 = x.mul(y).sum();
    let score = p12.div(p1.mul(p2));
    score = ((await score.data())[0] - 0.9) * 10;
    return score

}
```

#### å·®å€¼ç›¸å…³æ€§ï¼ˆè‡ªåˆ›ï¼‰

é™¤äº†ç›´æ¥ä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦ï¼Œå…¶å®è¿˜å¯ä»¥å°è¯•å…¶ä»–é€”å¾„è®¡ç®—å‘é‡çš„ç›¸å…³æ€§ã€‚æ¯”å¦‚æˆ‘åŸåˆ›çš„ä¸€ä¸ªç®—æ³• **å·®å€¼ç›¸å…³æ€§**
å¦‚æœæ€»åˆ†ä¸º100ï¼Œè¿™ä¸ªæ•°ç»„çš„æ¯ä¸€ä½å¯¹æ€»åˆ†çš„å½±å“ç¨‹åº¦å°±æ˜¯`æ€»åˆ†/æ•°ç»„é•¿åº¦`ï¼Œä¹Ÿå°±æ˜¯`R1`ä¸`Ra`ä¹‹é—´çš„å·®å¼‚å¯¹æ€»åˆ†çš„å½±å“åœ¨`0-50`åˆ†ä¹‹é—´ã€‚`abs.(R1-Ra)`
ä¸è¿™ä¸ªåˆ†æ•°è´Ÿç›¸å…³ã€‚

```JavaScript
const gap = abs.(R1-Ra)
```

è€ƒè™‘ä¸€ä¸‹æé™æƒ…å†µï¼Œ`gap=0`æ—¶ï¼Œæ²¡æœ‰å·®å¼‚å¾—50åˆ†,`gap=gamMax`æ—¶å®Œå…¨ä¸åŒå¾—0åˆ†ï¼Œæ‰€ä»¥å½“å‰ä½åˆ†æ•°

```JavaScript
const partScope = 50 * (1 - gap / gapMax);
```

é‚£ä¹ˆé—®é¢˜æ¥äº†`gapMax`å³è¿™ä¸ªç‚¹ä½æ¯”ä¾‹å€¼çš„æœ€å¤§å€¼æ€ä¹ˆæ±‚ï¼Ÿæˆ‘ä¸çŸ¥é“å•Šï¼ˆğŸ¤¦â€ï¸ï¼‰ã€‚ä¸è¿‡æ®æˆ‘æ‰‹åŠ¨è§‚å¯Ÿè¿™ä¸ªå€¼å¤§éƒ¨åˆ†æƒ…å†µ90%æƒ…å†µä¸‹ä»‹äº`0-10`ä¹‹é—´ï¼Œæ‰€ä»¥æš‚æ—¶å‡è®¾`gapMax=10`
æœ€åå¯¹å„ä¸ªä½çš„å¾—åˆ†æ±‚å’Œã€‚

```JavaScript
scope = scope + partScope
```

å¾—åˆ°çš„`scope`å°±æ˜¯èƒ½ç”¨`0-100`çš„æ•°å€¼è¡¨ç¤ºä¸¤ä¸ªå‘é‡ç›¸ä¼¼åº¦çš„å€¼ã€‚

æ•´ä¸ªæ€è·¯å¤§è‡´å¦‚æ­¤ï¼Œä¹Ÿè®¸æœ‰æ›´é«˜æ˜çš„ç®—æ³•å»è§£å†³æ•´ä¸ªé—®é¢˜ï¼Œæˆ–è€…æ˜¯ä¼˜åŒ–å…¶ä¸­çš„ä¸€éƒ¨åˆ†è®¡ç®—ï¼Œæ¬¢è¿è®¨è®ºã€‚

## ç›¸å…³ç®—æ³•

```JavaScript
// è®¡ç®—ä¸¤ç‚¹é—´è·ç¦»
const distance = (x0, y0, x1, y1) => Math.hypot(x1 - x0, y1 - y0);

// ç”ŸæˆæŒ‡å®šèŒƒå›´çš„äºŒç»´ç‚¹ä½
const randomPosInRange = (min, max) => Array.from({length: 2}, () => Math.floor(Math.random() * (max - min + 1)) + min);

// ç”ŸæˆæŒ‡å®šä½æ•°å’ŒèŒƒå›´çš„äºŒç»´ç‚¹ä½ç»„åˆ
const RPIRInCount = (min, max, n) => Array.from({length: n}, () => randomPosInRange(min, max));

// è®¡ç®—ç‚¹ä½ç»„åˆä¸­å„ç‚¹çš„ç›¸äº’è·ç¦»
const pointsDistance = (points) => {
    let array = [];
    for (let i = 0; i < points.length; i++) {
        for (let j = i + 1; j < points.length; j++) {
            const p1 = points[i];
            const p2 = points[j];
            array.push(distance(p1[0], p1[1], p2[0], p2[1]));
        }
    }
    return array
};

// è®¡ç®—æ•°ç»„ä¸­çš„æœ€å°å€¼
const minInArray = (array) => array.sort((a, b) => a - b)[0];

// è®¡ç®—ç‚¹ä½ç»„åˆä¸­å„ç‚¹è·ç¦»ä¸æœ€å°è·ç¦»çš„å€æ•°
const distanceMultiple = (points) => {
    const distances = pointsDistance(points);
    const minDistance = minInArray(distances);
    const code = distances.map(distance => round(distance / minDistance, 0));
    code.shift();
    return code
};

// å››èˆäº”å…¥åˆ°æŒ‡å®šä½æ•°
const round = (n, decimals = 0) => Number(`${Math.round(`${n}e${decimals}`)}e-${decimals}`);

```

## è¿è¡Œ
```bash
cd src && serve
```
